---
title: デバイスツリー
description:
published: true
date: 2025-09-17T09:59:24.978Z
tags:
editor: markdown
dateCreated: 2024-11-11T11:50:39.940Z
---

# 1. はじめに

デバイス ツリーは、ARM および RISC-V システムで一般的に使用されるハードウェアを記述するためのメカニズムです。 カーネルドライバのコードを変更せずに、カーネルがハードウェアデバイスを検出して設定できるようにします。
ACPIテーブルがハードウェアの自動検出と構成を可能にするx86システムとは異なります。 ほとんどのARMシステムでは、ハードウェアの変更を宣言するためにデバイスツリーを変更する必要があります。
デバイス ツリーは、ARM および RISC-V システムで一般的に使用されるハードウェアを記述するためのメカニズムです。 カーネルドライバのコードを変更せずに、カーネルがハードウェアデバイスを検出して設定できるようにします。
ACPIテーブルがハードウェアの自動検出と構成を可能にするx86システムとは異なります。 ほとんどのARMシステムでは、ハードウェアの変更を宣言するためにデバイスツリーを変更する必要があります。
デバイス ツリーは、ARM および RISC-V システムで一般的に使用されるハードウェアを記述するためのメカニズムです。 カーネルドライバのコードを変更せずに、カーネルがハードウェアデバイスを検出して設定できるようにします。
ACPIテーブルがハードウェアの自動検出と構成を可能にするx86システムとは異なります。 ほとんどのARMシステムでは、ハードウェアの変更を宣言するためにデバイスツリーを変更する必要があります。
ACPIテーブルがハードウェアの自動検出と構成を可能にするx86システムとは異なります。 ほとんどのARMシステムでは、ハードウェアの変更を宣言するためにデバイスツリーを変更する必要があります。

# 2. デバイスツリーの切り替え

## 2.1 UEFIおよびGrab システムにおけるデバイスツリーの切り替え

grub 設定ファイル `/etc/default/grub` を開きます。

- grub 設定ファイル `/etc/default/grub` を開きます。
  `GRUB_DTB=`で始まる行を探し、デバイスのツリーファイルへのパスを追加します。例:

```bash
GRUB_DTB= dtbs/rockchip/<your device tree here>.dtb
```

- 次に、grub の設定を更新します。

```bash
sudo grub-mkconfig -o /boot/grub/grub.cfg
```

> DTBは1つしか指定できません。
> {.is-info}

## 2.2 extlinux を使用した U-Boot システムのデバイスツリーの更新

- `/boot/extlinux/extlinux.conf` ファイルを編集します。 例えば、`fdt`の行を見つけます。

```bash
fdt /dtbs/rockchip/<your device tree here>.dtb
```

次に、デバイス ツリー パスに合わせて編集します。 保存してシステムを再起動します。

> DTBは1つしか指定できません。
> {.is-info}
