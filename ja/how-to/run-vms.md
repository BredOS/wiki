---
title: BredOS ä¸Šã§ä»®æƒ³ãƒã‚·ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•
description:
published: true
date: 2025-09-13T09:21:19.167Z
tags: vm, how-to
editor: markdown
dateCreated: 2024-10-05T22:12:39.679Z
---

# ğŸš€ Virt-Manager ã§ BredOS ä¸Šã§ä»®æƒ³ãƒã‚·ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€BredOS ã® `virt-manager` ã‚’ä½¿ç”¨ã—ã¦ä»®æƒ³ãƒã‚·ãƒ³ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ç®¡ç†ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

å§‹ã‚ã‚‹å‰ã«ã€ä»¥ä¸‹ã®ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- å‹•ä½œä¸­ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š ğŸŒ
- Sudoã®æ¨©é™ğŸ”‘

## ã‚¹ãƒ†ãƒƒãƒ—1: å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ğŸ“¦

ã¾ãšã€KVM ã¨ `virt-manager` ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```bash
sudo pacman -Syu
sudo pacman -S virt-manager qemu-base qemu-system-aarch64 edk2-aarch64 dnsmasq 
```

## ã‚¹ãƒ†ãƒƒãƒ—2ï¼šLibvirtã‚µãƒ¼ãƒ“ã‚¹ã®æœ‰åŠ¹åŒ–ã¨é–‹å§‹ <unk>

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‚‰ã€`libvirtd` ã‚µãƒ¼ãƒ“ã‚¹ã‚’æœ‰åŠ¹ã«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚

```bash
sudo systemctl enable --now libvirtd
```

ã‚µãƒ¼ãƒ“ã‚¹ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã«ã¯:

```bash
sudo systemctl status libvirtd
```

## ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ `libvirt` ã‚°ãƒ«ãƒ¼ãƒ— ğŸ‘¥ ã«è¿½åŠ ã—ã¾ã™ã€‚

VMã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ«ãƒ¼ãƒˆæ¨©é™ã‚’å¿…è¦ã¨ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’`libvirt`ã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```bash
sudo usermod -aG libvirt $(whoami)
```

è‡ªåˆ†è‡ªèº«ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ ã—ãŸå¾Œã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦å¤‰æ›´ã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ç›´ã—ã¾ã™ã€‚

## ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š ğŸŒ

`virt-manager` ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†ã« `dnsmasq` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã§ `libvirt` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ `virt-manager` ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†ã« `dnsmasq` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã§ `libvirt` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã§ `libvirt` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
sudo virsh net-start default
sudo virsh net-autostart default
```

## ã‚¹ãƒ†ãƒƒãƒ— 5: Virt-Manager :desktop_computerã‚’èµ·å‹•ã—ã¾ã™:

ã™ã¹ã¦ãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã•ã‚ŒãŸã®ã§ã€`virt-manager`ã‚’é–‹å§‹ã§ãã¾ã™ã€‚

```bash
virt-manager
```

ã“ã‚Œã«ã‚ˆã‚Šã€ `virt-manager` GUIãŒé–‹ãã€ä»®æƒ³ãƒã‚·ãƒ³ã®ä½œæˆã¨ç®¡ç†ãŒã§ãã¾ã™ã€‚
![virt.jpg](/vms/virt.jpg)

## ã‚¹ãƒ†ãƒƒãƒ— 6: XML ç·¨é›†ã‚’æœ‰åŠ¹ã«ã™ã‚‹

XMLç·¨é›†ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ï¼ˆå¾Œã§å¿…è¦ï¼‰`virt-manager`ã‚’é–‹ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**Edit**ã‹ã‚‰**Preferences**ã«è¡Œãã€XMLç·¨é›†
ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚[xmlediting.jpg](/vms/xmlediting.jpg)

## ã‚¹ãƒ†ãƒƒãƒ— 7: ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œæˆã™ã‚‹ ğŸ› ï¸

1. `virt-manager` ã‚’é–‹ãã¾ã™ã€‚
   ![virt.jpg](/vms/virt.jpg)
2. **æ–°ã—ã„ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œæˆ** â•ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
   ![virtnewvm.jpg](/vms/virtnewvm.jpg)
3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ƒ(ISOã‚¤ãƒ¡ãƒ¼ã‚¸ã¾ãŸã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)ã‚’é¸æŠã—ã¾ã™ã€‚
   ![newvm.jpg](/vms/newvm.jpg)
4. ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã«å¾“ã£ã¦ã€CPUã€RAMã€ãŠã‚ˆã³VMã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚ âš™ï¸ âš™ï¸

> RK3588ã§ã¯ã€å°ã•ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
> {.is-warning} ã«ã‚ˆã‚Šã€vmã‚ãŸã‚Šæœ€å¤§4ã‚³ã‚¢ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![cpuram.jpg](/vms/cpuram.jpg)
![disk.jpg](/vms/disk.jpg)
5. On CPUs with the little.big architecture like the RK3588 you need to check "Customize configuration before install" and edit the xml responsible for allocating cpu cores
![finalstep.jpg](/vms/finalstep.jpg)
Click **Finish**
![vcpuxml0.jpg](/vms/vcpuxml0.jpg)
Open the **CPUs** configuration and then the **XML** tab
![vcpuxml1.jpg](/vms/vcpuxml1.jpg)
Locate `<vcpu>XYZ</vcpu>` and replace it with

```xml
<vcpu placement='static' cpuset='0-1'>2</vcpu>
```

cpuã‚»ãƒƒãƒˆã¯0-3ã‚’ä½¿ç”¨ã—ãŸã„ã‚³ã‚¢ã§ã€rk3588ã¨4-7ã®Eã‚³ã‚¢ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¢ã¨ã‚³ã‚¢æ•°ã§ã™ã€‚ ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€vmã¯2ã¤ã®ã‚³ã‚¢ã‚’æŒã¡ã€ãƒ€ã‚¤è‡ªä½“ã«ã‚³ã‚¢åˆ¥åã‚³ã‚¢1ã¨2ã‚’æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
![vcpuxml2.jpg](/vms/vcpuxml2.jpg)

6. å‘¨è¾ºæ©Ÿå™¨ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚ ğŸ–¥ï¸ ğŸ–¥ï¸

VM ãƒšãƒ¼ã‚¸ã«æˆ»ã‚Šã€ã€Œãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’è¿½åŠ ã€ã‚’æŠ¼ã—ã¾ã™ã€‚

![addhw.png](/vms/addhw.png)

è¡¨ç¤ºã•ã‚Œã‚‹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‹ã‚‰ã€Œãƒ“ãƒ‡ã‚ªã€ã‚’é¸æŠã—ã€ãƒ¢ãƒ‡ãƒ«é¸æŠã‹ã‚‰ã€Œramfbã€ã‚’é¸æŠã—ã€ã€Œçµ‚äº†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![gpu.png](/vms/gpu.png)

ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚µãƒ¼ãƒãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€å†åº¦ã€Œãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’è¿½åŠ ã€ã‚’é¸æŠã—ã€ã€Œã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![graphics.png](/vms/graphics.png)

ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ãƒã‚¦ã‚¹ã®å ´åˆã¯ã€ä»¥ä¸‹ã‚’é¸æŠã—ã¦åŒã˜æ‰‹é †ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™:
"Input" -> "USB Keyboard"
and
"Input" -> "EvTouch USB ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ"

![tab.png](/vms/kb.png)
![tab.png](/vms/tab.png)

7. è¨­å®šãŒå®Œäº†ã—ãŸã‚‰ã€VM ã‚’èµ·å‹•ã—ã¾ã™ã€‚ ğŸŸ¢ ğŸŸ¢

![startvm.jpg](/vms/startvm.jpg)

## è¿½åŠ è¨­å®š âš™ï¸

- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§VMã‚’ç®¡ç†ã™ã‚‹ã«ã¯ã€`virsh`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```bash
virsh list --all
virsh start <vm-name>
virsh shutdown <vm-name>
```

## :hammer_and_wrenchã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°:

- **æ¨©é™ã®å•é¡Œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ `libvirt` ã‚°ãƒ«ãƒ¼ãƒ—ã«ã„ã‚‹ã“ã¨ã¨ã€ `libvirtd` ã‚µãƒ¼ãƒ“ã‚¹ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®å•é¡Œ**: VM ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„å ´åˆã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® `virsh` ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## ğŸ‰ çµè«–

BredOS ã§ `virt-manager` ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«æˆåŠŸã—ã€ä»®æƒ³ãƒã‚·ãƒ³ã®ä½œæˆã¨ç®¡ç†ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸï¼
